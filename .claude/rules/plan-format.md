# プランファイル作成ルール

plan mode でプランを作成する際は、以下のルールに従うこと。

## 保存先

- すべてのプランファイルは `.claude/plans/` ディレクトリに保存する
- ファイル名は `kebab-case.md` 形式（例: `user-authentication.md`）

## 必須セクション

プランファイルには以下のセクションを必ず含める：

```markdown
# Plan: [タイトル]

## 概要
（1-2文で目的を説明）

## 背景・課題
（なぜこのプランが必要か）

## 実装ステップ
1. Step 1: ...
2. Step 2: ...

## 作成・変更するファイル
| ファイル | 操作 | 説明 |
|---------|------|------|
| path/to/file.ts | 新規作成 | 説明 |
| path/to/existing.ts | 変更 | 説明 |

## 検証方法
（完了確認の手順）
```

## 任意セクション

必要に応じて追加：

- **影響範囲**: 変更が影響する既存コード・機能
- **リスク・注意点**: 潜在的な問題や考慮事項
- **代替案**: 検討した他のアプローチ
- **依存関係**: 前提となる他のプランやタスク

## メタデータ

ファイル保存時にHooksが自動的に以下のメタデータを付与する：

```yaml
---
version: 1.0
created: YYYY-MM-DD HH:MM
updated: YYYY-MM-DD HH:MM
---
```

- 新規作成時: version 1.0 で初期化
- 更新時: version +0.1（1.9 → 2.0 に繰り上げ）

## プラン一覧の確認

`.claude/plans/` 内のファイルを確認し、各プランのメタデータ（version, created, updated）を一覧表示する場合は、以下の形式で出力：

```
## プラン一覧

| ファイル名 | バージョン | 作成日時 | 最終更新 |
|-----------|-----------|---------|---------|
| example.md | 1.3 | 2024-01-23 10:00 | 2024-01-23 15:30 |
```
