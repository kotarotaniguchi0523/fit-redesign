import type { Question } from "../../types/index";

/**
 * 小テスト8: データ構造（スタック）
 * 2017年度版
 * 注: PDFファイルが不足しているため、2016年版PDF（実際は2018年1月9日実施）と解答HTMLから問題を推定
 */

export const exam8_2017: Question[] = [
	{
		id: "exam8-2017-q1",
		number: 1,
		text: "次の順にデータを挿入した二分探索木を、S式（括弧表記）で表せ。\n27, 7, 51, 20, 6, 19",
		answer: "(27 (7 6 (20 19)) 51)",
		explanation:
			"二分探索木のS式表現: 27をルートとし、各ノードを (値 左部分木 右部分木) の形式で表記する。左右の部分木がない場合は省略。\n構築順序: 27(ルート) → 7(左) → 51(右) → 20(7の右) → 6(7の左) → 19(20の左)",
		figureDescription:
			"二分探索木（27がルート、7が左子、51が右子、7の左に6、7の右に20、20の左に19）",
		figureData: {
			type: "binaryTree",
			width: 400,
			height: 300,
			root: {
				value: 27,
				x: 200,
				y: 40,
				left: {
					value: 7,
					x: 100,
					y: 100,
					left: { value: 6, x: 50, y: 160 },
					right: {
						value: 20,
						x: 150,
						y: 160,
						left: { value: 19, x: 120, y: 220 },
					},
				},
				right: { value: 51, x: 300, y: 100 },
			},
		},
	},
	{
		id: "exam8-2017-q2",
		number: 2,
		text: "次のリスト(N, E, W, S)から、要素 E を削除するために書き換えるアドレス、データ、ポインタを示せ。\n\nアドレス データ ポインタ\n100     E     200\n200     W     300\n300     S     0\n400     N     100",
		answer: "アドレス400のポインタを100から200に書き換える",
		explanation:
			"リスト構造: N(400)→E(100)→W(200)→S(300)。Eを削除するには、Eを指しているN(アドレス400)のポインタを、Eの次の要素W(アドレス200)に変更する。",
	},
	{
		id: "exam8-2017-q3",
		number: 3,
		text: "空のキューとスタックに、次の操作を行った後、x, y を求めよ。\nenq(み), push(か), push(ん), enq(pop()), push(deq()), x = pop(), y = deq()",
		answer: "x=み，y=ん",
		explanation:
			"操作の流れ:\n1. enq(み) → キュー[み]\n2. push(か) → スタック[か]\n3. push(ん) → スタック[か,ん]\n4. enq(pop()) → pop()で「ん」、キュー[み,ん]\n5. push(deq()) → deq()で「み」、スタック[か,み]\n6. x = pop() → 「み」\n7. y = deq() → 「ん」",
	},
	{
		id: "exam8-2017-q4",
		number: 4,
		text: "16進数で表されるデータ 122, 235, 43B, 58E, 7A1, 8AF, ABA, C2D をハッシュ表に入れる。ハッシュ関数を H(x) = x mod 8 とするとき、最初に衝突が起きるのはどのデータか?",
		answer: "ABA",
		explanation:
			"各データのハッシュ値（x mod 8）:\n122(16) = 290(10) → 290 mod 8 = 2\n235(16) = 565(10) → 565 mod 8 = 5\n43B(16) = 1083(10) → 1083 mod 8 = 3\n58E(16) = 1422(10) → 1422 mod 8 = 6\n7A1(16) = 1953(10) → 1953 mod 8 = 1\n8AF(16) = 2223(10) → 2223 mod 8 = 7\nABA(16) = 2746(10) → 2746 mod 8 = 2 ← 122と衝突！\n\n最初に衝突するのはABA（122と同じハッシュ値2）。",
	},
	{
		id: "exam8-2017-q5",
		number: 5,
		text: "LIFO を表すデータ構造は、リスト、配列、スタック、キュー、二分探索木、ハッシングのどれか?",
		answer: "スタック",
		explanation:
			"LIFO (Last In First Out: 後入れ先出し) を実現するデータ構造はスタック。最後に入れたデータが最初に取り出される。キューはFIFO (First In First Out: 先入れ先出し) である。",
	},
];
