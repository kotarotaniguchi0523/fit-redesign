import type { Question } from "../../types/index";

/**
 * 小テスト8: データ構造（スタック）
 * 2014年度版
 * PDFファイル: Exam8b-Stack.pdf
 */

export const exam8_2014: Question[] = [
	{
		id: "exam8-2014-q1",
		number: 1,
		text: "A, B, C の順に到着するデータをスタックに登録して、B, C, A の順に出力するための、スタックの操作列(push, pop など)を示せ。",
		answer: "push A, push B, pop, push C, pop, pop",
		explanation:
			"A, B, C の順に到着し、B, C, A の順に出力するには:\n1. push A → スタック[A]\n2. push B → スタック[A, B]\n3. pop → Bを出力、スタック[A]\n4. push C → スタック[A, C]\n5. pop → Cを出力、スタック[A]\n6. pop → Aを出力、スタック[]",
	},
	{
		id: "exam8-2014-q2",
		number: 2,
		text: "双方向リスト構造に、春、夏、秋、冬の順にデータが登録されている。空欄ア、イ、ウを埋めよ。",
		answer: "ア = 20, イ = 0, ウ = 10",
		explanation:
			"双方向リストの構造:\n- アドレス30: 春(次:10, 前:0) ← 先頭要素\n- アドレス10: 夏(次:ア, 前:30)\n- アドレス20: 秋(次:40, 前:ウ)\n- アドレス40: 冬(次:イ, 前:20) ← 末尾要素\n\n春→夏→秋→冬の順なので:\n- ア(夏の次) = 20(秋のアドレス)\n- イ(冬の次) = 0(末尾)\n- ウ(秋の前) = 10(夏のアドレス)",
		figureDescription: "双方向リスト: アドレス30(春)→アドレス10(夏)→アドレス20(秋)→アドレス40(冬)",
	},
	{
		id: "exam8-2014-q3",
		number: 3,
		text: "空の二分木に次の順でデータを追加した時、最も検索時間がかかるデータを求めよ。複数ある場合は全て挙げよ。\nC, H, R, I, S, T, M, A",
		answer: "M, T",
		explanation:
			"二分探索木の構築: C(ルート) → H(右) → R(Hの右) → I(Rの左) → S(Rの右) → T(Sの右) → M(Iの右) → A(Cの左)。\n\n木の深さ:\n- C: 深さ0\n- A, H: 深さ1\n- R: 深さ2\n- I, S: 深さ3\n- M, T: 深さ4\n\n最も深い位置にあるのは M, T（深さ4）となります。",
		figureData: {
			type: "binaryTree",
			width: 850,
			height: 350,
			root: {
				value: "C",
				x: 425,
				y: 40,
				left: { value: "A", x: 225, y: 100 },
				right: {
					value: "H",
					x: 625,
					y: 100,
					right: {
						value: "R",
						x: 725,
						y: 160,
						left: {
							value: "I",
							x: 665,
							y: 220,
							right: { value: "M", x: 695, y: 280 },
						},
						right: {
							value: "S",
							x: 785,
							y: 220,
							right: { value: "T", x: 815, y: 280 },
						},
					},
				},
			},
		},
	},
	{
		id: "exam8-2014-q4",
		number: 4,
		text: "高さ 6 の完全二分木の接点数を求めよ。",
		answer: "127",
		explanation:
			"完全二分木の接点数の公式: 2^h - 1 (h: 高さ)\n高さ6の完全二分木の接点数 = 2^7 - 1 = 128 - 1 = 127\n\n各レベルのノード数:\n- レベル0(ルート): 1\n- レベル1: 2\n- レベル2: 4\n- レベル3: 8\n- レベル4: 16\n- レベル5: 32\n- レベル6: 64\n合計: 1 + 2 + 4 + 8 + 16 + 32 + 64 = 127",
	},
	{
		id: "exam8-2014-q5",
		number: 5,
		text: "キーのハッシュ関数を h(x) = x mod 13 とする。キー1 から 100 の中に、キー3 と衝突するものはいくつあるか？",
		answer: "8",
		explanation:
			"h(3) = 3 mod 13 = 3\n\nキー3と同じハッシュ値(3)になるキーは、x mod 13 = 3 を満たすキー。\nこれは x = 13k + 3 (k = 0, 1, 2, ...) の形式。\n\n1から100の範囲で:\n- k=0: 3 (キー3自身、衝突には含めない)\n- k=1: 16\n- k=2: 29\n- k=3: 42\n- k=4: 55\n- k=5: 68\n- k=6: 81\n- k=7: 94\n- k=8: 107 (100を超えるので範囲外)\n\nキー3以外で衝突するもの: 16, 29, 42, 55, 68, 81, 94 の7個\n\n※解答が「8」となっているため、キー3自身を含めた個数、または計算方法が異なる可能性があります。一般的には7個が正解ですが、解答に従い8としています。",
	},
];
